---
layout: tools
---

<header>
  <h1><a href="#">HTML / ERB to Slim Converter</a></h1>
  <small>Online tool to convert HTML / ERB to Slim template. - <a href="/">GIZ Tools</a></small>
</header>

<section>
  <div class="box-container">
    <label for="raw_text">HTML / ERB</label>
    <textarea id="raw_text" name="raw_text">{% include raw_text.html %}</textarea>
  </div>
  <div class="box-container">
    <label for="raw_text">Slim</label>
    <textarea id="converted_text" name="converted_text"></textarea>
    <button type="button" name="button" onclick="submit()">Convert</button>
  </div>
</section>

<script type="text/javascript">
  var request = new XMLHttpRequest();
  var url = 'https://slim-converter-api.herokuapp.com'

  window.onload = function(){

    request.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            console.log(this.responseText);
        }
    };

    request.open('GET', url);
    request.send();
  }

  function submit() {
    var raw_text = document.getElementById("raw_text");
    var data = new FormData();

    data.append("raw_text", raw_text.value);
    request.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            document.getElementById("converted_text").value = JSON.parse(this.responseText)["converted_text"];
        }
    };

    request.open("POST", url + '/convert', true);
    request.send(data);
  }
</script>

<footer>
  <small>
     HTML / ERB to Slim Converter - <a href="/">GIZ Tools</a> | Made with <span style="color: #e25555;">&hearts;</span> by <a href="https://gizipp.com">GIZIPP</a>
  </small>
</footer>
